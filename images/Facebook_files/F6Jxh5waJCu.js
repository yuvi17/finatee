if (self.CavalryLogger) { CavalryLogger.start_js(["u2N64"]); }

__d("CctaTestIDs",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CCTA_VIEWER_UNIT_TESTID:"ccta_viewer_unit_testid",CCTA_TYPE_SELECTOR_TESTID:"ccta_type_selector_testid",CCTA_TYPE_SELECTOR_OPTION_TESTID_PREFIX:"ccta_type_selector_option_testid_",CCTA_CANCEL_BUTTON_TESTID:"ccta_cancel_button_testid",CCTA_SAVE_BUTTON_TESTID:"ccta_save_button_testid",CCTA_WEB_URI_TESTID:"ccta_web_uri_testid",CCTA_EDIT_MENU_TESTID:"ccta_edit_menu_testid",CCTA_SWITCH_TO_APP_BUTTON_TESTID:"ccta_switch_to_app_button_testid",CCTA_ANDROID_APPS_DROPDOWN_TESTID:"ccta_android_apps_dropdown_testid",CCTA_ANDROID_APPS_DROPDOWN_WEBSITE_OPTION_TESTID:"ccta_android_apps_dropdown_website_option_testid",CCTA_ANDROID_APPS_DROPDOWN_APP_OPTION_TESTID:"ccta_android_apps_dropdown_app_option_testid"};},null);
__d("PageCallToActionDestinationTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"NONE",APP_DEEPLINK:"APP_DEEPLINK",DONATE:"DONATE",FACEBOOK_APP:"FACEBOOK_APP",LISTEN:"LISTEN",LEAD_GEN:"LEAD_GEN",MESSENGER:"MESSENGER",NATIVE_VIDEO:"NATIVE_VIDEO",OPEN_TABLE:"OPEN_TABLE",PHONE_CALL:"PHONE_CALL",STORE_FRONT:"STORE_FRONT",WEBSITE:"WEBSITE",EMAIL:"EMAIL",FIRST_PARTY:"FIRST_PARTY"};},null);
__d("PageCallToActionRef",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"None",MOBILE_PAGE_PRESENCE_CALL_TO_ACTION:"mobile_page_presence_call_to_action",COVER_PHOTO_SURFACE:"coverPhoto",HOVER_CARD_SURFACE:"hoverCard",PAGE_PLUGIN_SURFACE:"pagePlugin",ADMIN_MENU_TEST_LINK:"adminMenuTestLink",PAGE_PRESENCE_LHS_CARD:"pagePresenceLhsCard",SEARCH_ENTITY_CARD:"searchEntityCard",PROSERVICES_SEARCH_ENTITY_CARD:"proservices_search_entity_card",FEED_STORY:"feed_story",FEED_STORY_SEARCH:"feed_story_search",PAGES_ACTIONS_UNIT_SURFACE:"pages_actions_unit",PAGES_SERVICES_SURFACE:"pages_services_surface",CTA_HOVER_CARD_SURFACE:"ctaHoverCard"};},null);
__d("PageCallToActionType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOK_APPOINTMENT:"BOOK_APPOINTMENT",BOOK_NOW:"BOOK_NOW",CALL_NOW:"CALL_NOW",CHARITY_DONATE:"CHARITY_DONATE",CONTACT_US:"CONTACT_US",DONATE_NOW:"DONATE_NOW",EMAIL:"EMAIL",GET_OFFER:"GET_OFFER",GET_OFFER_VIEW:"GET_OFFER_VIEW",LEARN_MORE:"LEARN_MORE",LISTEN:"LISTEN",MAKE_RESERVATION:"MAKE_RESERVATION",MESSAGE:"MESSAGE",OPEN_APP:"OPEN_APP",PLAY_NOW:"PLAY_NOW",REQUEST_QUOTE:"REQUEST_QUOTE",SHOP_NOW:"SHOP_NOW",SIGN_UP:"SIGN_UP",WATCH_NOW:"WATCH_NOW"};},null);
__d('AbstractTextArea.react',['cx','AbstractTextField.react','React'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.propTypes=c('AbstractTextField.react').propTypes;l.prototype.render=function(){'use strict';return (c('React').createElement(c('AbstractTextField.react'),this.props,c('React').createElement('textarea',{className:"_58an",onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,rows:this.props.rows,tabIndex:this.props.tabIndex,ref:function(m){return this.$AbstractTextArea1=m;}.bind(this)})));};l.prototype.focusInput=function(){'use strict';this.$AbstractTextArea1&&this.$AbstractTextArea1.focus();};l.prototype.blurInput=function(){'use strict';this.$AbstractTextArea1&&this.$AbstractTextArea1.blur();};l.prototype.getTextFieldDOM=function(){'use strict';return this.$AbstractTextArea1;};l.prototype.getValue=function(){'use strict';return this.$AbstractTextArea1?this.$AbstractTextArea1.value:'';};function l(){'use strict';i.apply(this,arguments);}f.exports=l;},null);
__d('PagesButton.react',['cx','AbstractButton.react','React','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j='accentblue',k='medium',l=c('React').createClass({displayName:'PagesButton',statics:{getButtonSize:function(m){return m.size||k;},getButtonColor:function(m){return m.color||j;}},propTypes:{color:i.oneOf(['accentblue','fbblue','green']),size:i.oneOf(['small','medium','large']),disabled:i.bool,fill:i.bool,slim:i.bool},getDefaultProps:function(){return {color:j,size:k,disabled:false,fill:false,slim:false};},render:function(){var m=l.getButtonColor(this.props),n=l.getButtonSize(this.props),o=this.props.disabled,p=this.props.fill,q=c('joinClasses')("_2-sm"+(n==='small'?' '+"_xa8":'')+(n==='medium'?' '+"_xa9":'')+(n==='large'?' '+"_xaf":'')+(!o&&m==='accentblue'?' '+"_xag":'')+(!o&&m==='fbblue'?' '+"_xah":'')+(!o&&m==='green'?' '+"_xai":'')+(o?' '+"_xaj":'')+(p?' '+"_xak":'')+(!p?' '+"_xal":'')+(this.props.slim?' '+"_4t_j":''));return (c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,q)})));}});f.exports=l;},null);
__d('CctaConstants',['CustomCallToActionTypes'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('CustomCallToActionTypes').TYPES,i={AppID:{OPEN_APP:'1',OPEN_WEBSITE:'2'},CtaBarItem:{WEBSITE_BAR_ITEM:'Website',IPHONE_BAR_ITEM:'iPhone',ANDROID_BAR_ITEM:'Android'},CREATE_CTA_TYPE_OPTIONS:[h.BOOK_NOW,h.CONTACT_US,h.OPEN_APP,h.PLAY_NOW,h.SHOP_NOW,h.SIGN_UP,h.WATCH_NOW],PHONE_EMAIL_PREFERENCE_OPTIONS:{PHONE_AND_EMAIL:'phone_and_email',PHONE_ONLY:'phone_only',EMAIL_ONLY:'email_only'},DialogVersion:{SIMPLIFIED_DIALOG:2}};f.exports=i;},null);
__d('CustomCTALogger',['Banzai'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={logVital:function(i){c('Banzai').post('page_custom_cta_logger',i,c('Banzai').VITAL);},log:function(i){c('Banzai').post('page_custom_cta_logger',i);}};f.exports=h;},null);
__d('PageCallToActionButton.react',['cx','Image.react','PageCallToActionRef','PagesButton.react','React','Set','XUIButton.react','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.className,m=this.props.icon,n=this.props.label,o=this.props.testID;if(!n)return null;if(this.$PageCallToActionButton1())return (c('React').createElement('div',{className:l,'data-hovercard':this.props.hovercardURL,'data-testid':o,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,ref:this.props.ref},n));if(this.$PageCallToActionButton2())return (c('React').createElement(c('PagesButton.react'),{className:l,'data-hovercard':this.props.hovercardURL,'data-testid':o,fill:true,label:n,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,ref:this.props.ref,slim:this.props.surface===c('PageCallToActionRef').PAGES_ACTIONS_UNIT_SURFACE}));if(this.$PageCallToActionButton3()){l=c('joinClasses')("_4jy3 _51sy",l);}else l=c('joinClasses')("_4jy4 _9c6",l);return (c('React').createElement(c('XUIButton.react'),{className:l,'data-hovercard':this.props.hovercardURL,'data-testid':o,image:m,label:n,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,ref:this.props.ref}));};k.prototype.$PageCallToActionButton3=function(){return (new (c('Set'))([c('PageCallToActionRef').HOVER_CARD_SURFACE,c('PageCallToActionRef').PAGE_PLUGIN_SURFACE,c('PageCallToActionRef').SEARCH_ENTITY_CARD]).has(this.props.surface));};k.prototype.$PageCallToActionButton1=function(){return (new (c('Set'))([c('PageCallToActionRef').ADMIN_MENU_TEST_LINK]).has(this.props.surface));};k.prototype.$PageCallToActionButton2=function(){return (new (c('Set'))([c('PageCallToActionRef').PAGE_PRESENCE_LHS_CARD,c('PageCallToActionRef').PAGES_ACTIONS_UNIT_SURFACE]).has(this.props.surface));};function k(){i.apply(this,arguments);}f.exports=k;},null);
__d('PageCallToActionIcon',['ix','PageCallToActionType','fbglyph'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={get:function(j){switch(j){case c('PageCallToActionType').BOOK_APPOINTMENT:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/event-add_16_bluegray-40.png");case c('PageCallToActionType').BOOK_NOW:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/calendar_16_bluegray-40.png");case c('PageCallToActionType').CALL_NOW:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/phone_16_bluegray-40.png");case c('PageCallToActionType').CHARITY_DONATE:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/heart_16_bluegray-40.png");case c('PageCallToActionType').CONTACT_US:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/envelope_16_bluegray-40.png");case c('PageCallToActionType').DONATE_NOW:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/heart_16_bluegray-40.png");case c('PageCallToActionType').EMAIL:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/envelope_16_bluegray-40.png");case c('PageCallToActionType').GET_OFFER:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/ticket_16_bluegray-40.png");case c('PageCallToActionType').LEARN_MORE:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/info-solid_16_bluegray-40.png");case c('PageCallToActionType').LISTEN:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/music_16_bluegray-40.png");case c('PageCallToActionType').MAKE_RESERVATION:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/calendar_16_bluegray-40.png");case c('PageCallToActionType').MESSAGE:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/comment_16_bluegray-40.png");case c('PageCallToActionType').OPEN_APP:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/apps_16_bluegray-40.png");case c('PageCallToActionType').PLAY_NOW:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/games_16_bluegray-40.png");case c('PageCallToActionType').REQUEST_QUOTE:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/money_16_bluegray-40.png");case c('PageCallToActionType').SHOP_NOW:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/shopping-bag_16_bluegray-40.png");case c('PageCallToActionType').SIGN_UP:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/pencil_16_bluegray-40.png");case c('PageCallToActionType').WATCH_NOW:return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/video_16_bluegray-40.png");}return null;}};f.exports=i;},null);
__d('CctaErrorMessages',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={CONTACT_US_LEAD_GEN_EMPTY_COMMENT:h._("Please add a comment so that the Page admin can better assist you."),CONTACT_US_LEAD_GEN_EMPTY_PHONE:h._("Please enter your phone number."),CONTACT_US_LEAD_GEN_EMPTY_EMAIL:h._("Please enter your email address."),CONTACT_US_LEAD_GEN_EMPTY_EMAIL_AND_PHONE:h._("Please enter your email address or your phone number."),getAdvertiserNoUpdateCTAWarnMsg:function(j){return h._("You're currenty running an ad with a {button label} button. If you change the button here, it will stop your ad.",[h.param('button label',j)]);},getNotAdvertiserNoUpdateCTAWarnMsg:function(j,k){return h._("The {button label} button is already being promoted and you don't have permission to change it. Please contact {advertiser names} to make this change.",[h.param('button label',j),h.param('advertiser names',k)]);},getDeprecateContactUsLeadGenCTAWarnMsg:function(j){return h._("The Contact Us form on Facebook won't be available after {Delete Date}. To keep the Contact Us button on your Page, link it to a form on your website. Or choose a new button like Call Now, Send Message or Send Email.",[h.param('Delete Date',j)]);}};f.exports=i;},null);
__d('CctaLabels',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={WEBSITE_LABEL:h._("Website"),IPHONE_LABEL:h._("iPhone"),ANDROID_LABEL:h._("Android"),SHOW_FLYOUT:'SHOW_FLYOUT',TEST_LABEL:h._("Test Button"),INSIGHTS_LABEL:h._("View Insights"),EDIT_LABEL:h._("Edit Button"),DELETE_LABEL:h._("Delete Button"),CONTACT_US_REQUEST_LABEL:h._("Contact Requests"),CTA_SELECTOR:h._("Choose a Button"),SELECTOR_OPTION_WEBSITE:h._("Website"),SELECTOR_OPTION_APP:h._("App"),ANDROID_SECTION:h._("ANDROID SETTINGS"),IOS_SECTION:h._("IOS SETTINGS"),ANDROID_SECTION_TITLE:h._("Choose where to send people on Android"),CREATE_SUCCESS_DIALOG_BODY:h._("Now that you've added this button to your Facebook Page, you can promote it."),CREATE_CALL_TO_ACTION_WEBSITE:h._("Add a Button to Your Page"),WEB_LINK_INPUT_LABEL:h._("Website"),WEB_LINK_INPUT_PLACEHOLDER:h._("Example: {url}",[h.param('url','http://www.mywebsite.com')]),APP_TOGGLE_LABEL:h._("Set up a link to an app?"),IOS_WEBSITE_DESTINATION_TOOLTIP:h._("Visitors using iOS will be sent to the website above."),ANDROID_WEBSITE_DESTINATION_TOOLTIP:h._("Visitors using Android will be sent to the website above."),IOS_APP_DESTINATION_TOOLTIP:h._("Visitors using iOS will be sent to the app link entered below."),ANDROID_APP_DESTINATION_TOOLTIP:h._("Visitors using Android will be sent to the app link entered below."),IOS_SECTION_TITLE:h._("Choose where to send people on iOS"),IOS_APP_LINK_INPUT_LABEL:h._("iOS App Deep Link"),ANDROID_APP_LINK_INPUT_LABEL:h._("Android App Deep Link"),IOS_BACKUP_INPUT_LABEL:h._("Website or App Store link"),ANDROID_BACKUP_INPUT_LABEL:h._("Website or Play Store link"),APP_LINK_NOTICE:h._("If you like, you can set up app deep links for iOS or Android users. This is only necessary if you have an app that you want to send visitors to."),CREATE_DIALOG_BODY_MESSAGE:h._("Add a button to your Page that takes people directly to your website or app."),EDIT_PROMOTION_LABEL:h._("Edit Promotion"),PROMOTE_LABEL:h._("Promote"),NOT_NOW:h._("Not Now"),DEEPLINK_LEARN_MORE_LABEL:h._("Learn more."),DEEP_LINK_INPUT_LABEL:h._("Deep Link"),CREATE_IPHONE_DEEP_LINK_TEXT:h._("We will open the app selected above if installed"),CREATE_DIALOG_BACKUP_LINK_MESSAGE:h._("People who don't have your app will be sent here."),PACKAGE_NAME_LABEL:h._("Package name"),CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID:h._("Add the Android package name of your app."),CREATE_DIALOG_APPLINK_MESSAGE:h._("Send people to a specific place inside your app, such as a product page."),CREATE_ANDROID_DEEP_LINK_TEXT:h._("We will open the app selected above if installed"),CREATE_ANDROID_PACKAGE_NAME_TEXT:h._("We will use the package name from the selected app"),DELETE_DIALOG_MESSAGE:h._("Do you really want to delete this button from your Facebook Page?"),CREATE_LABEL:h._("Add a Button"),CREATE_TOOLTIP:h._("Add a button to get people to take an action from your Page, such as shop or sign up"),UPDATE_DURING_PROMOTION_DIALOG_TITLE:h._("Changing The Button Will End Your Ad"),CANNOT_UPDATE_DURING_PROMOTION_DIALOG_TITLE:h._("The Button Can't Be Changed Right Now"),ENTER_PHONE_LABEL:h._("Phone number"),ENTER_EMAIL_ADDRESS_LABEL:h._("Email address"),ENTER_PHONE_PLACEHOLDER:h._("Example: 8005550199"),ENTER_EMAIL_ADDRESS_PLACEHOLDER:h._("Add an email address"),DATE_PICKER_TEXT:h._("Date:"),TIME_PICKER_TEXT:h._("Time:"),PARTY_PICKER_TEXT:h._("Party Size:"),PHONE_EMAIL_PREFERENCE_SELECTOR_SECTION_TITLE:h._("What information would you like to collect?"),PHONE_EMAIL_PREFERENCE_SELECTOR_SECTION_DESCRIPTION:h._("Some text here that explains that this contact information will expire 90 days after it has been submitted."),CONTACT_US_PRIVACY_LINK_SECTION_TITLE:h._("Add a link to your Privacy Policy"),CONTACT_US_PRIVACY_LINK_SECTION_DESCRIPTION:h._("An explanation of your privacy policy and why it is required. Let people know why this is important."),PHONE_EMAIL_PREFERENCE_PHONE_AND_EMAIL_LABEL:h._("Phone Number and Email Address"),PHONE_EMAIL_PREFERENCE_PHONE_ONLY_LABEL:h._("Phone Number"),PHONE_EMAIL_PREFERENCE_EMAIL_ONLY_LABEL:h._("Email"),CONTACT_US_TERM_BODY_MESSAGE:h._("This feature is designed to permit response to inbound requests from individuals. Depending on your country, certain types of contact may require additional consents required by law. You agree that you are responsible for obtaining those consents and complying with our"),WEBSITE_DESTINATION_TYPE_TOGGLE_LABEL:h._("Send people to an app or website"),CONTACT_US_REASON_INPUT_PLACEHOLDER:h._("Add a comment"),CONTACT_US_NAME_INPUT_PLACEHOLDER:h._("Enter your name"),CONTACT_US_EMAIL_INPUT_PLACEHOLDER:h._("Enter your email address"),CONTACT_US_PHONE_INPUT_PLACEHOLDER:h._("Phone Number"),CONTACT_US_INFO_SUBMIT_CONFIRMATION_LABEL:h._("OK"),YES_LABEL:h._("Yes"),NO_LABEL:h._("No"),DONATE_NOW_LEGAL_CONTENT_ONE:h._("By creating this Call to Action button, you certify that both of the following statements are true and accurate:"),DONATE_NOW_LEGAL_CONTENT_TWO:h._("Your organisation operates as a charitable organisation under the applicable laws in your jurisdiction. US-based organisations must be organised and operating pursuant to section 501 (c) (3) of the US Internal Revenue Code, even if you have not yet applied."),DONATE_NOW_LEGAL_CONTENT_THREE:h._("Your organisation does not directly or indirectly intervene in any political campaign on behalf of or in opposition to any candidates for public office."),MARK_AS_RESPONDED_LABEL:h._("Mark as Responded"),BAN_FROM_PAGE:h._("Ban from Page"),STORE_FRONT_DESCRIPTION:h._("Shop Now will link to the shop section of your Page."),NATIVE_VIDEO_PREVIEW_LABEL:h._("Preview"),MARK_AS_COMPLETE_LABEL:h._("Mark as Complete"),MARK_AS_INCOMPLETE_LABEL:h._("Mark as Incomplete"),LEGEND_KEY_ORGANIC:h._("Organic"),LEGEND_KEY_PAID:h._("Paid"),THIS_WEEK_CLICK_LABEL:h._("Clicks this week"),getDeleteCTALabel:function(j){return h._("Delete {Page button label} Button",[h.param('Page button label',j)]);},getPromoteCTALabel:function(j){return h._("Promote {Page button label} Button",[h.param('Page button label',j)]);},getEditCTALabel:function(j){return h._("Edit {CTA label} Button",[h.param('CTA label',j)]);},getDisconnectLabel:function(j){return h._("Disconnect from Application ({app id})",[h.param('app id',j)]);}};f.exports=i;},null);
__d('PhoneCodeSelector.react',['fbt','cx','LeftRight.react','PhoneCodes','React','XUISelector.react','XUINotice.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('XUISelector.react').Option,k=c('React').PropTypes,l=c('React').createClass({displayName:'PhoneCodeSelector',propTypes:{initialCountryCode:k.string,initialPhoneCode:k.number,maxheight:k.number,onUpdate:k.func.isRequired,phoneCodes:k.object.isRequired},getDefaultProps:function(){return {initialCountryCode:'US',maxheight:300,phoneCodes:c('PhoneCodes')};},getInitialState:function(){var m=null;if(this.props.initialPhoneCode)Object.keys(this.props.phoneCodes).forEach(function(n){var o=this.props.phoneCodes[n];if(o.phone_code===this.props.initialPhoneCode)m=n;}.bind(this));if(!m&&this.props.initialCountryCode)m=this.props.initialCountryCode;return this._getCurrentState(m,this.props);},_getCurrentState:function(m,n){var o=null;if(!(m in n.phoneCodes)){if(m)o=c('React').createElement(c('XUINotice.react'),{use:'warn'},h._("Invalid selected value"));m=Object.keys(n.phoneCodes)[0];}return {selected:m,warningMessage:o};},componentWillReceiveProps:function(m){this.setState(this._getCurrentState(this.state.selected,m));},_onUpdate:function(m){var n=m.value;this.setState(this._getCurrentState(n,this.props));this.props.onUpdate(this.props.phoneCodes[n].phone_code,n);},render:function(){var m=[];Object.keys(this.props.phoneCodes).forEach(function(n){var o=this.props.phoneCodes[n];m.push(c('React').createElement(j,{key:n,label:'+'+o.phone_code,value:n},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('span',null,o.country_name),c('React').createElement('span',null,'+'+o.phone_code))));}.bind(this));return (c('React').createElement('span',null,this.state.warningMessage,c('React').createElement(c('XUISelector.react'),{className:"_1h5m",maxheight:this.props.maxheight,onChange:this._onUpdate,value:this.state.selected},m)));}});f.exports=l;},null);
__d('TextAreaWithLineLimit.react',['cx','AbstractTextArea.react','React','ReactComponentWithPureRenderMixin','TextAreaControl','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'TextAreaWithLineLimit',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{onLostFocus:i.func,maxLines:i.number,maxCharacterPerLine:i.number,onChange:i.func.isRequired},getInitialState:function(){return {};},getDefaultProps:function(){return {maxLines:-1,maxCharacterPerLine:-1};},componentDidMount:function(){var k=this.refs.textArea.getTextFieldDOM();this._control=new (c('TextAreaControl'))(k);this._control.setAutogrow(true);this._control.onupdate();},componentDidUpdate:function(){this._control.onupdate();},componentWillUnmount:function(){this._control=null;},_onTextChange:function(event){var k=event.target.value;if(this._isTextWithinLimit(k))this.props.onChange(k);},_isTextWithinLimit:function(k){var l=k.split(/\r\n|\r|\n/);if(this.props.maxLines>0&&l.length>this.props.maxLines)return false;if(this.props.maxCharacterPerLine>0)for(var m=0;m<l.length;m++)if(l[m].length>this.props.maxCharacterPerLine)return false;return true;},render:function(){var k=c('joinClasses')(this.props.className,"_3_8b");return (c('React').createElement(c('AbstractTextArea.react'),babelHelpers['extends']({},this.props,{className:k,onChange:this._onTextChange,onBlur:this.props.onLostFocus,ref:'textArea'})));}});f.exports=j;},null);
__d("XCctaContactUsSaveLeadGenInfoController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/contact_us_save_info\/",{page_id:{type:"Int",required:true},contact_message:{type:"String"},contact_name:{type:"String"},contact_phone_number:{type:"String"},contact_country_code:{type:"String"},contact_email:{type:"String"}});},null);
__d('PageCallToActionContactUsDialog.react',['cx','fbt','ix','AsyncRequest','CctaConstants','CctaErrorMessages','CctaLabels','CustomCallToActionTypes','CustomCTALogger','Image.react','LayerHideOnBlur','Link.react','PagesEventType','PhoneCodeSelector.react','React','TextAreaWithLineLimit.react','XCctaContactUsSaveLeadGenInfoController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogConfirmButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUINotice.react','XUITextInput.react','update'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('CustomCallToActionTypes').LABELS,l=c('CustomCallToActionTypes').TYPES,m=c('React').PropTypes,n=c('React').createClass({displayName:'PageCallToActionContactUsDialog',propTypes:{contactUsSpecs:m.object.isRequired,pageID:m.string.isRequired,pageName:m.string.isRequired},_onCancel:function(){this._logCancel();},_onSubmit:function(){var o=this._validateInputFields();if(Object.keys(o).length===0){this.setState({showConfirmDialog:true});var p=c('XCctaContactUsSaveLeadGenInfoController').getURIBuilder().setString('contact_name',this.state.userName).setString('contact_message',this.state.contactUsComments).setString('contact_email',this.state.userEmail).setString('contact_phone_number',this.state.userPhone).setString('contact_country_code',this.state.countryPrefix).setInt('page_id',this.props.pageID).getURI();new (c('AsyncRequest'))().setURI(p).send();}else this.setState({errorList:o});},_logCancel:function(){var o={event_type:c('PagesEventType').CUSTOM_CTA_VIEWER_CONTACT_US_CLICK_CANCEL,page_id:this.props.pageID,ccta_type:l.CONTACT_US};c('CustomCTALogger').log(o);},_getPhoneNumberError:function(){var o={};switch(this.props.contactUsSpecs.phoneEmailPref){case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_AND_EMAIL:if(!this.state.userEmail&&!this.state.userPhone)o.phoneAndEmailError=c('CctaErrorMessages').CONTACT_US_LEAD_GEN_EMPTY_EMAIL_AND_PHONE;break;case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_ONLY:if(!this.state.userPhone)o.phoneError=c('CctaErrorMessages').CONTACT_US_LEAD_GEN_EMPTY_PHONE;break;case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.EMAIL_ONLY:break;}return o;},_getInputEmailError:function(){var o={};switch(this.props.contactUsSpecs.phoneEmailPref){case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_AND_EMAIL:if(!this.state.userEmail&&!this.state.userPhone)o.phoneAndEmailError=c('CctaErrorMessages').CONTACT_US_LEAD_GEN_EMPTY_EMAIL_AND_PHONE;break;case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_ONLY:break;case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.EMAIL_ONLY:if(!this.state.userEmail)o.emailError=c('CctaErrorMessages').CONTACT_US_LEAD_GEN_EMPTY_EMAIL;break;}return o;},getInitialState:function(){return {userName:this.props.contactUsSpecs.userName,userEmail:this.props.contactUsSpecs.userEmail,userPhone:'',contactUsComments:'',showConfirmDialog:false,countryPrefix:1,shouldDisableConfirmButton:true,errorList:{}};},componentDidUpdate:function(){var o=this._validateInputFields();if(JSON.stringify(this.state.errorList)!=JSON.stringify(o))this.setState({errorList:o});},_validateInputFields:function(){var o={};if(!this.state.contactUsComments)o.commentsError=c('CctaErrorMessages').CONTACT_US_LEAD_GEN_EMPTY_COMMENT;if(!this.state.userEmail){var p=this._getInputEmailError();if(p)o=c('update')(o,{$merge:p});}if(!this.state.userPhone){var q=this._getPhoneNumberError();if(q)o=c('update')(o,{$merge:q});}return o;},_renderContactUsCommentsSection:function(){return (c('React').createElement('div',{className:"_4xmx"},c('React').createElement('div',{className:"_4xnk"},i._("How can {page name} help you?",[i.param('page name',this.props.pageName)])),c('React').createElement(c('TextAreaWithLineLimit.react'),{onChange:function(o){this.setState({contactUsComments:o});}.bind(this),placeholder:c('CctaLabels').CONTACT_US_REASON_INPUT_PLACEHOLDER,ref:'contactUsCommentBox',maxCharacterPerLine:100,maxLines:5,value:this.state.contactUsComments})));},_renderContactUsEmailBox:function(){return (c('React').createElement(c('XUITextInput.react'),{className:"_4xnm",onChange:function(event){this.setState({userEmail:event.target.value});}.bind(this),placeholder:c('CctaLabels').CONTACT_US_EMAIL_INPUT_PLACEHOLDER,ref:'contactUsEmailBox',defaultValue:this.state.userEmail}));},_renderContactUsPhoneBox:function(){return (c('React').createElement('div',{className:"_4xnn"},c('React').createElement(c('PhoneCodeSelector.react'),{initialPhoneCode:this.state.countryPrefix,onUpdate:function(o){this.setState({countryPrefix:o});}.bind(this)}),c('React').createElement(c('XUITextInput.react'),{className:"_4xno",onChange:function(event){this.setState({userPhone:event.target.value});}.bind(this),placeholder:c('CctaLabels').CONTACT_US_PHONE_INPUT_PLACEHOLDER,ref:'contactUsPhoneBox',defaultValue:this.state.userPhone})));},_renderContactUsPhoneEmailDataInputSection:function(){var o=null,p=null;switch(this.props.contactUsSpecs.phoneEmailPref){case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_AND_EMAIL:o=this._renderContactUsEmailBox();p=this._renderContactUsPhoneBox();break;case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_ONLY:p=this._renderContactUsPhoneBox();break;case c('CctaConstants').PHONE_EMAIL_PREFERENCE_OPTIONS.EMAIL_ONLY:o=this._renderContactUsEmailBox();break;}return (c('React').createElement('div',{className:"_4xnp"},c('React').createElement('div',{className:"_4xnk"},i._("Let {page name} know how to get in touch with you.",[i.param('page name',this.props.pageName)])),c('React').createElement(c('XUITextInput.react'),{className:"_4xnq",onChange:function(event){this.setState({userName:event.target.value});}.bind(this),placeholder:c('CctaLabels').CONTACT_US_NAME_INPUT_PLACEHOLDER,ref:'contactUsNameBox',defaultValue:this.state.userName}),o,p,c('React').createElement('div',{className:"_4xnr"},i._("The information specified in this form will be sent to {page name}, who agrees to use it in accordance with their {privacy policy}.",[i.param('page name',this.props.pageName),i.param('privacy policy',c('React').createElement(c('Link.react'),{target:'_blank',href:this.props.contactUsSpecs.privacyLink},i._("Privacy Policy")))]))));},render:function(){var o=this;if(this.state.showConfirmDialog)return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},shown:true,width:450},c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_4xns"},c('React').createElement(c('Image.react'),{className:"_4xnt",src:j('/images/pages/custom_cta/confirmation_cta.png')}),c('React').createElement('div',null,i._("Thanks! Your message has been sent to")),c('React').createElement('div',null,i._("{page name}.",[i.param('page name',this.props.pageName)])),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',className:"_4xnu",label:c('CctaLabels').CONTACT_US_INFO_SUBMIT_CONFIRMATION_LABEL,size:'xlarge'})))));var p=null;if(Object.keys(this.state.errorList).length>0){var q;(function(){var r=o.state.errorList;q=[];Object.keys(r).forEach(function(s){q.push(c('React').createElement('li',null,r[s]));});p=c('React').createElement(c('XUINotice.react'),{className:"_3-96",use:'warn',size:'small'},q);})();}return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},shown:true,width:450},c('React').createElement(c('XUIDialogTitle.react'),null,k[l.CONTACT_US]),c('React').createElement(c('XUIDialogBody.react'),null,p,this._renderContactUsCommentsSection(),this._renderContactUsPhoneEmailDataInputSection()),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this._onCancel}),c('React').createElement(c('XUIDialogConfirmButton.react'),{disabled:Object.keys(this.state.errorList).length>0,use:'confirm',onClick:this._onSubmit}))));}});f.exports=n;},null);
__d('PageCallToActionHovercard.react',['cx','fbt','CustomCTALogger','Image.react','Layout.react','Link.react','PageCallToActionRef','PagesEventType','React'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Layout.react').Column,m=c('Layout.react').FillColumn;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o;(o=k.constructor).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)));this.$PageCallToActionHovercard1=this.$PageCallToActionHovercard1.bind(this);}n.prototype.$PageCallToActionHovercard1=function(){c('CustomCTALogger').log({ccta_id:this.props.cctaID,ccta_type:this.props.cctaType,event_type:c('PagesEventType').CUSTOM_CTA_CLICK_VIEWER_UNIT,page_id:this.props.pageID,surface:c('PageCallToActionRef').CTA_HOVER_CARD_SURFACE,target_url:this.props.displayUrl,user_id:this.props.userID});};n.prototype.render=function(){return (c('React').createElement(c('Link.react'),{onClick:this.$PageCallToActionHovercard1,href:this.props.redirectUrl,type:'dark',target:'_blank',className:"_18tn"},c('React').createElement('div',{className:"_18tq"},c('React').createElement(c('Layout.react'),null,c('React').createElement(l,{className:"_18tt"},c('React').createElement(c('Image.react'),{width:124,height:124,src:this.props.imageSrc})),c('React').createElement(m,{className:"_18tu"},c('React').createElement('div',{className:"_18to"},this.props.title),c('React').createElement('div',{className:"_18tr"},this.props.description),c('React').createElement('div',{className:"_18ts"},i._("On clicking, you will go to an external URL: {url name}",[i.param('url name',this.props.displayUrl)])))))));};f.exports=n;},null);
__d("XCctaOpenTableController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/open_table\/",{timestamp:{type:"Int",required:true},party_size:{type:"Int",required:true},page_id:{type:"Int",required:true}});},null);
__d("XCctaOpenTableMakeProvisionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/open_table_make_provision\/",{restaurant_id:{type:"Int",required:true},timestamp:{type:"Int",required:true},party_size:{type:"Int",required:true},page_id:{type:"Int",required:true}});},null);
__d('PageCallToActionOpenTableDialog.react',['cx','fbt','AsyncRequest','CctaLabels','LayerHideOnBlur','React','XCctaOpenTableController','XCctaOpenTableMakeProvisionController','XUIButton.react','XUIDatePicker.react','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogConfirmButton.react','XUIDialogFooter.react','XUISelector.react','formatDate'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('XUISelector.react').Option,k=c('React').PropTypes,l=20,m=1000,n=30,o=60,p=48,q=c('React').createClass({displayName:'PageCallToActionOpenTableDialog',propTypes:{onCancel:k.func.isRequired,openTableSpecs:k.object.isRequired,pageID:k.string.isRequired},_onCancel:function(){this.props.onCancel();this.setState({availableTimes:[],partySize:1,selectedDate:this.props.openTableSpecs.startTimestamp*m,selectedTime:0});},getInitialState:function(){return {availableTimes:[],chosenTimestamp:0,partySize:1,selectedDate:this.props.openTableSpecs.startTimestamp*m,selectedTime:0};},_handleDateChange:function(r){this.setState({selectedDate:r.getTime()});this._findAvailableTables(r.getTime(),this.state.selectedTime,this.state.partySize);},_handleTimeChange:function(r){this.setState({selectedTime:r.value});this._findAvailableTables(this.state.selectedDate,r.value,this.state.partySize);},_handlePartySizeChange:function(r){this.setState({partySize:r.value});this._findAvailableTables(this.state.selectedDate,this.state.selectedTime,r.value);},_makeProvision:function(r){this.setState({chosenTimestamp:r});var s=c('XCctaOpenTableMakeProvisionController').getURIBuilder().setInt('party_size',this.state.partySize).setInt('page_id',this.props.pageID).setInt('restaurant_id',this.props.openTableSpecs.restaurantID).setInt('timestamp',r).getURI();new (c('AsyncRequest'))().setURI(s).send();},_findAvailableTables:function(r,s,t){var u=r+s,v=c('XCctaOpenTableController').getURIBuilder().setInt('party_size',t).setInt('page_id',this.props.pageID).setInt('timestamp',u/m).getURI();new (c('AsyncRequest'))().setURI(v).setHandler(function(w){this.setState({availableTimes:w.payload});}.bind(this)).send();},_getPrintDateAndTime:function(){var r=this.state.selectedDate+this.state.selectedTime,s=c('formatDate')(new Date(r),'m/d/y',{utc:true}),t=c('formatDate')(new Date(r),'g:i A',{utc:true});return {printDate:s,printTime:t};},_renderDateSelectors:function(){return (c('React').createElement('div',null,c('CctaLabels').DATE_PICKER_TEXT,c('React').createElement('span',{className:"plm"},c('React').createElement(c('XUIDatePicker.react'),{earliestTime:this.props.openTableSpecs.startTimestamp,initialTime:this.state.selectedDate,onCalendarSelectDateChange:this._handleDateChange}))));},_renderTimeSelectors:function(){var r=[],s=new Date();s.setSeconds(0);for(var t=0;t<p;t++){if(t%2){s.setHours((t-1)/2);s.setMinutes(30);}else{s.setHours(t/2);s.setMinutes(0);}var u=t*o*n*m;r.push(c('React').createElement(j,{key:u,value:u},c('formatDate')(s,'g:i A')));}return (c('React').createElement('div',null,c('CctaLabels').TIME_PICKER_TEXT,c('React').createElement('span',{className:"plm"},c('React').createElement(c('XUISelector.react'),{className:"_5vu1",onChange:this._handleTimeChange,value:this.state.selectedTime},r))));},_renderPartySizeSelector:function(){var r=[];for(var s=1;s<=l;s++)r.push(c('React').createElement(j,{key:s,value:s},s));return (c('React').createElement('div',null,c('CctaLabels').PARTY_PICKER_TEXT,c('React').createElement('span',{className:"plm"},c('React').createElement(c('XUISelector.react'),{className:"_5vu1",onChange:this._handlePartySizeChange,value:this.state.partySize},r))));},_renderHeaderSection:function(){var r=c('React').createElement('div',null),s=this._getPrintDateAndTime(),t=[],u=[];if(!this.state.availableTimes.length)r=c('React').createElement('div',null,i._("No tables match your search"));for(var v=0;v<this.state.availableTimes.length;v++)u.push(v);t=u.map(function(w){return (c('React').createElement(c('XUIButton.react'),{key:w,label:c('formatDate')(new Date(this.state.availableTimes[w]*m),'g:i A',{utc:true}),onClick:function(){return this._makeProvision(this.state.availableTimes[w]);}.bind(this)}));}.bind(this));return (c('React').createElement('span',null,c('React').createElement('div',null,i._("Table for {party size for reservation}, {date for reservation} at around {time for reservations}",[i.param('party size for reservation',this.state.partySize),i.param('date for reservation',s.printDate),i.param('time for reservations',s.printTime)])),r,t));},render:function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},shown:true,width:400},c('React').createElement(c('XUIDialogBody.react'),null,this._renderHeaderSection(),this._renderDateSelectors(),this._renderTimeSelectors(),this._renderPartySizeSelector()),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.onCancel}),c('React').createElement(c('XUIDialogConfirmButton.react'),null))));}});f.exports=q;},null);
__d('PageContentTabLoadingDialog',['cx','React','ReactDOM','DOM','XUIDialog.react','XUIDialogBody.react','XUISpinner.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'PageContentTabLoadingDialogComponent',getInitialState:function(){return {shown:false};},render:function(){return (c('React').createElement(c('XUIDialog.react'),{width:300,shown:this.state.shown,layerHideOnBlur:false},c('React').createElement(c('XUIDialogBody.react'),{className:"_5xp9"},c('React').createElement(c('XUISpinner.react'),{background:'light',className:"_5xpe",size:'large'}))));},show:function(){this.setState({shown:true});},hide:function(){this.setState({shown:false});}}),j={show:function(){if(!this._dialog)this._dialog=c('ReactDOM').render(c('React').createElement(i,null),c('DOM').create('div'));this._dialog.show();},hide:function(){this._dialog&&this._dialog.hide();}};f.exports=j;},null);
__d("XCctaViewerClickButtonController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/viewer_click_button\/",{page_id:{type:"FBID",required:true}});},null);
__d("XLoginController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/login\/",{cuid:{type:"String"},app_id:{type:"Int"},api_key:{type:"String"},auth_token:{type:"String"},first_attempt:{type:"Exists",defaultValue:false},social_plugin:{type:"String"},signed_next:{type:"Bool",defaultValue:false},next:{type:"String"},email:{type:"String"},li:{type:"String"},lhsrc:{type:"String"},dcode:{type:"Int"},profile_sharer_id:{type:"Int"},contact_point:{type:"String"},layout:{type:"String"},next_uri:{type:"String"},v:{type:"String"},return_session:{type:"String"},cancel:{type:"String"},social_plugin_action:{type:"String"},page_id:{type:"String"},rcount:{type:"Int"},e:{type:"Int"},deact:{type:"String"},deact_messaging:{type:"Bool",defaultValue:false},user_wants_http:{type:"Bool",defaultValue:false},fbconnect:{type:"Exists",defaultValue:false},canvas:{type:"Exists",defaultValue:false},offline_access:{type:"Exists",defaultValue:false},http:{type:"Exists",defaultValue:false},skip_api_login:{type:"Bool",defaultValue:false},no_next_msg:{type:"Exists",defaultValue:false},_fb_noscript:{type:"Exists",defaultValue:false},nothacked:{type:"Bool",defaultValue:false},isprivate:{type:"Bool",defaultValue:false},fw2x:{type:"Bool",defaultValue:false},uc_qa:{type:"Exists",defaultValue:false},work_show_personal:{type:"Exists",defaultValue:false},fl:{type:"Exists",defaultValue:false},show_profileshare_nativebanner:{type:"Exists",defaultValue:false}});},null);
__d("XPagesCallToActionRedirectController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/call_to_action\/redirect\/",{cta_id:{type:"FBID",required:true}});},null);
__d("XPagesCallToActionValidateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/call_to_action\/validate\/",{ccta_id:{type:"Int",required:true},field:{type:"Enum",required:true,enumType:1},field_value:{type:"String"}});},null);
__d('PageCallToActionViewerUnitMixin',['cx','fbt','invariant','AsyncRequest','Bootloader','CustomCTALogger','CustomCallToActionTypes','DOM','Event','LayerHideOnBlur','LayerHideOnEscape','PageCallToActionContactUsDialog.react','PageCallToActionDestinationTypes','PageCallToActionHovercard.react','PageCallToActionOpenTableDialog.react','PageCallToActionRef','PageContentTabLoadingDialog','PagesEventType','PageTransitions','React','ReactDOM','ReactLayeredComponentMixin','URI','VideoChainingCaller','XCctaViewerClickButtonController','XLoginController','XPagesCallToActionRedirectController','XPagesCallToActionValidateController','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIText.react','goURI','isFacebookURI'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('CustomCallToActionTypes').TYPES,l=c('CustomCallToActionTypes').CONFIGS,m=c('React').PropTypes,n={mixins:[c('ReactLayeredComponentMixin')],propTypes:{cctaID:m.string.isRequired,callToActionType:m.string.isRequired,pageName:m.string.isRequired,redirect:m.bool.isRequired,url:m.string.isRequired},getInitialState:function(){var o=l[this.props.callToActionType];return {confirmDialog:o.confirm_dialog,showConfirmDialog:false,showOpenTableDialog:false};},renderLayers:function(){if(!this.state.confirmDialog)return {};return {confirmDialog:c('React').createElement(c('XUIDialog.react'),{onToggle:this._onConfirmDialogToggle,shown:this.state.showConfirmDialog,width:335},c('React').createElement(c('XUIDialogTitle.react'),null,this.state.confirmDialog.title),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{size:'xlarge'},this.state.confirmDialog.message)),c('React').createElement('p',null),c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{size:'small'},this.state.confirmDialog.subMessage))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{action:'button',label:this.state.confirmDialog.confirmButtonLabel?this.state.confirmDialog.confirmButtonLabel:i._("Continue"),onClick:this._executeCallToAction,use:'confirm'})))};},_onClick:function(){if(this.state.confirmDialog){this.setState({showConfirmDialog:true});}else{this._onToggleOpenTable();this._executeCallToAction();}},_onMouseEnter:function(){if(this.props.callToActionType===k.CALL_NOW){this._renderCallNowDialog(true);c('CustomCTALogger').log({ccta_id:this.props.cctaID,ccta_type:this.props.callToActionType,event_type:c('PagesEventType').CUSTOM_CTA_HOVER_VIEWER_UNIT,page_id:this.props.pageID,surface:this.props.surface,target_url:this.props.url,user_id:this.props.userID,presence_cta:this.props.isPresenceCTA,ref:this.props.referrer});}},_onMouseLeave:function(){if(this.props.callToActionType===k.CALL_NOW)this._renderCallNowDialog(false);},_renderCallNowDialog:function(o){if(!this._phoneCallAnchor)this._phoneCallAnchor=c('DOM').create('div');c('ReactDOM').render(c('React').createElement(c('XUIContextualDialog.react'),{contextRef:function(){return this.getViewerButtonRef();}.bind(this),position:'above',alignment:'center',behaviors:{LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape')},shown:o,width:c('XUIContextualDialog.react').WIDTH.SMALL},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{className:"_2m80"},c('React').createElement('div',null,i._("{page name}",[i.param('page name',this.props.pageName)])),c('React').createElement('div',null,i._("{page phone number}",[i.param('page phone number',this.props.url)]))))),this._phoneCallAnchor);},_redirectLoggedOutUserToLoginPage:function(o){if(this.props.userID==='0')c('goURI')(c('XLoginController').getURIBuilder().setString('next',o).getURI());},_onToggleOpenTable:function(){this.setState({showOpenTableDialog:!this.state.showOpenTableDialog});},_onConfirmDialogToggle:function(o){this.setState({showConfirmDialog:o});},_executeCallToAction:function(){this.setState({showConfirmDialog:false});switch(this.props.destinationType){case c('PageCallToActionDestinationTypes').DONATE:this._redirectLoggedOutUserToLoginPage(this.props.pageUrl);c('PageContentTabLoadingDialog').show();new (c('AsyncRequest'))(this.props.url).setFinallyHandler(function(t){c('PageContentTabLoadingDialog').hide();}).send();break;case c('PageCallToActionDestinationTypes').LEAD_GEN:if(this.props.callToActionType===k.CONTACT_US){this._redirectLoggedOutUserToLoginPage(this.props.pageUrl);if(!this._dialogAnchor)this._dialogAnchor=c('DOM').create('div');c('ReactDOM').render(c('React').createElement(c('PageCallToActionContactUsDialog.react'),{contactUsSpecs:this.props.contactUsSpecs,pageID:this.props.pageID}),this._dialogAnchor);}break;case c('PageCallToActionDestinationTypes').WEBSITE:if(this.props.userID!=='0'){var o=c('XCctaViewerClickButtonController').getURIBuilder().setFBID('page_id',this.props.pageID).getURI();new (c('AsyncRequest'))().setURI(o).send();}if(this.props.redirect){var p=c('XPagesCallToActionRedirectController').getURIBuilder().setFBID('cta_id',this.props.cctaID).getURI();new (c('AsyncRequest'))().setURI(p).setMethod('POST').send();}else{!c('isFacebookURI')(new (c('URI'))(this.props.url))?j(0):void 0;if(this.props.hovercardSpecs&&this.props.hovercardSpecs.exp==='click_show'){if(!this._dialogAnchor)this._dialogAnchor=c('DOM').create('div');c('ReactDOM').render(c('React').createElement(c('XUIContextualDialog.react'),{alignment:'center',behaviors:{LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape')},contextRef:function(){return this.getViewerButtonRef();}.bind(this),position:'above',shown:true},c('React').createElement('div',{className:"_3mrx"},c('React').createElement(c('PageCallToActionHovercard.react'),{cctaID:this.props.cctaID,cctaType:this.props.callToActionType,description:this.props.hovercardSpecs.description,displayUrl:this.props.hovercardSpecs.displayUrl,imageSrc:this.props.hovercardSpecs.imageSrc,pageID:this.props.pageID,redirectUrl:this.props.url,title:this.props.hovercardSpecs.title,userID:this.props.userID}))),this._dialogAnchor);}else window.open(this.props.url);if(this.props.userID!=='0'){var q=c('XPagesCallToActionValidateController').getURIBuilder().setInt('ccta_id',this.props.cctaID).setEnum('field','web_uri').setString('field_value',this.props.url).getURI();new (c('AsyncRequest'))().setURI(q).setErrorHandler(function(t){}).send();}}break;case c('PageCallToActionDestinationTypes').NATIVE_VIDEO:var r=this.props.url.match(/videos\/([0-9]*)\//),s=r&&r[1]||null;!s?j(0):void 0;c('Bootloader').loadModules(["VideoChannelHandleLink"],function(t){return (t.openChannel(this.props.pageID,c('VideoChainingCaller').CHANNEL_VIEW_FROM_PAGE_CALL_TO_ACTION,s));}.bind(this),'PageCallToActionViewerUnitMixin');break;case c('PageCallToActionDestinationTypes').STORE_FRONT:c('PageTransitions').go(this.props.url,true);break;case c('PageCallToActionDestinationTypes').OPEN_TABLE:if(!this._dialogAnchor)this._dialogAnchor=c('DOM').create('div');if(this.state.showOpenTableDialog)c('ReactDOM').render(c('React').createElement(c('PageCallToActionOpenTableDialog.react'),{onCancel:this._onToggleOpenTable,openTableSpecs:this.props.openTableSpecs,pageID:this.props.pageID}),this._dialogAnchor);break;case c('PageCallToActionDestinationTypes').PHONE_CALL:if(this.props.surface===c('PageCallToActionRef').ADMIN_MENU_TEST_LINK)this._renderCallNowDialog(true);break;case c('PageCallToActionDestinationTypes').EMAIL:window.open(this.props.url);break;}}};f.exports=n;},null);
__d('CustomCTAViewerUnit.react',['cx','CctaTestIDs','CustomCTALogger','Image.react','PageCallToActionButton.react','PageCallToActionIcon','PageCallToActionRef','PageCallToActionViewerUnitMixin','PagesButton.react','PagesEventType','React','Set','URI','XUIButton.react','CustomCallToActionTypes'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('CustomCallToActionTypes').LABELS,j=c('React').PropTypes,k=c('React').createClass({displayName:'CustomCTAViewerUnit',mixins:[c('PageCallToActionViewerUnitMixin')],propTypes:{buttonLabel:j.string,contactUsSpecs:j.object.isRequired,hovercardSpecs:j.object,openTableSpecs:j.object.isRequired,pageID:j.string.isRequired,pageUrl:j.string,refButton:j.object,referrer:j.string,surface:j.string.isRequired,userID:j.string.isRequired},onButtonClick:function(){this._onClick();c('CustomCTALogger').log({ccta_id:this.props.cctaID,ccta_type:this.props.callToActionType,event_type:c('PagesEventType').CUSTOM_CTA_CLICK_VIEWER_UNIT,page_id:this.props.pageID,surface:this.props.surface,target_url:this.props.url,user_id:this.props.userID,ref:this.props.referrer,story_id:this.props.storyID});},getViewerButtonRef:function(){if(!this.props.refButton){return this.refs.CTAViewerButton;}else return this.props.refButton;},getHoverCardURI:function(){var l=null;if(new (c('Set'))([c('PageCallToActionRef').COVER_PHOTO_SURFACE,c('PageCallToActionRef').PAGE_PRESENCE_LHS_CARD,c('PageCallToActionRef').PAGES_ACTIONS_UNIT_SURFACE]).has(this.props.surface)&&this.props.hovercardSpecs&&this.props.hovercardSpecs.exp==='hover_show'){l=new (c('URI'))('/ajax/hovercard/hovercard.php');l.setQueryData({id:this.props.cctaID});}return l;},render:function(){var l=this.props.callToActionType,m=this.props.buttonLabel?this.props.buttonLabel:l?i[l]:null;if(!m)return null;var n=this.props.buttonIcon?this.props.buttonIcon:l?c('PageCallToActionIcon').get(l):null;return (c('React').createElement(c('PageCallToActionButton.react'),{className:this.props.className,hovercardURL:this.getHoverCardURI(),icon:c('React').createElement(c('Image.react'),{src:n}),label:m,onClick:this.onButtonClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,ref:'CTAViewerButton',surface:this.props.surface}));}});f.exports=k;},null);